/*! angular-stepper - v0.0.1 - 2013-11-27
* Copyright (c) Julien Bouquillon [revolunet] 2013; Licensed  */
angular.module("revolunet.stepper").directive("rnStepper",function(){return{restrict:"AE",require:"ngModel",scope:{value:"=ngModel",min:"=",max:"="},template:'<button ng-disabled="isOverMin()" ng-click="decrement()">-</button><div>{{ value }}</div><button ng-disabled="isOverMax()" ng-click="increment()">+</button>',link:function(a,b,c,d){function e(){var b=!(a.isOverMin(!0)||a.isOverMax(!0));d.$setValidity("outOfBounds",b)}a.isOverMin=function(b){var c=b?0:1;return angular.isDefined(a.min)&&a.value-c<parseInt(a.min,10)},a.isOverMax=function(b){var c=b?0:1;return angular.isDefined(a.max)&&a.value+c>parseInt(a.max,10)},a.increment=function(){a.value++,e(),d.$setViewValue(a.value)},a.decrement=function(){a.value--,e(),d.$setViewValue(a.value)},e(),a.$watch("min+max",function(){e()})}}});